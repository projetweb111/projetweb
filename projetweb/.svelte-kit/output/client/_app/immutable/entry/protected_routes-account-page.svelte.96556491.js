import{S as _e,i as ie,s as Ee,k as a,r as E,a as A,l as f,m,u as h,h as s,c as D,p as d,b as v,D as t,n as se,J as he,o as ve,v as j}from"../chunks/index.ce7212fb.js";import{p as de}from"../chunks/stores.37c6b56c.js";import{s as Me}from"../chunks/supabaseClient.e8e52d2c.js";function be(c){let l,o;return{c(){l=a("p"),o=E("Loading ...")},l(p){l=f(p,"P",{});var M=m(l);o=h(M,"Loading ..."),M.forEach(s)},m(p,M){v(p,l,M),t(l,o)},p:se,d(p){p&&s(l)}}}function ye(c){let l,o,p,M,R,i,w,b,k,F,y,P,u,N,S,_,r,O,L,T,G,x,q,J,K,Q,C,V,z,X,U,W,H,I,Y;return{c(){l=a("form"),o=a("p"),p=a("strong"),M=E("My name : "),R=E(c[0]),i=A(),w=E(c[1]),b=A(),k=a("form"),F=a("p"),y=a("strong"),P=E("My pseudo : "),u=E(c[2]),N=A(),S=a("form"),_=a("p"),r=a("strong"),O=E("My email : "),L=E(c[3]),T=A(),G=a("form"),x=a("p"),q=a("strong"),J=E("Promo : "),K=E(c[5]),Q=A(),C=a("form"),V=a("p"),z=a("strong"),X=E("Status : "),U=E(c[4]),W=A(),H=a("form"),I=a("a"),Y=E("Edit my account"),this.h()},l(e){l=f(e,"FORM",{class:!0});var n=m(l);o=f(n,"P",{});var B=m(o);p=f(B,"STRONG",{});var te=m(p);M=h(te,"My name : "),te.forEach(s),R=h(B,c[0]),i=D(B),w=h(B,c[1]),B.forEach(s),n.forEach(s),b=D(e),k=f(e,"FORM",{class:!0});var re=m(k);F=f(re,"P",{});var Z=m(F);y=f(Z,"STRONG",{});var oe=m(y);P=h(oe,"My pseudo : "),oe.forEach(s),u=h(Z,c[2]),Z.forEach(s),re.forEach(s),N=D(e),S=f(e,"FORM",{class:!0});var le=m(S);_=f(le,"P",{});var g=m(_);r=f(g,"STRONG",{});var ae=m(r);O=h(ae,"My email : "),ae.forEach(s),L=h(g,c[3]),g.forEach(s),le.forEach(s),T=D(e),G=f(e,"FORM",{class:!0});var fe=m(G);x=f(fe,"P",{});var $=m(x);q=f($,"STRONG",{});var me=m(q);J=h(me,"Promo : "),me.forEach(s),K=h($,c[5]),$.forEach(s),fe.forEach(s),Q=D(e),C=f(e,"FORM",{class:!0});var ue=m(C);V=f(ue,"P",{});var ee=m(V);z=f(ee,"STRONG",{});var ne=m(z);X=h(ne,"Status : "),ne.forEach(s),U=h(ee,c[4]),ee.forEach(s),ue.forEach(s),W=D(e),H=f(e,"FORM",{class:!0});var ce=m(H);I=f(ce,"A",{class:!0,href:!0});var pe=m(I);Y=h(pe,"Edit my account"),pe.forEach(s),ce.forEach(s),this.h()},h(){d(l,"class","row flex-left flex"),d(k,"class","row flex-left flex"),d(S,"class","row flex-left flex"),d(G,"class","row flex-left flex"),d(C,"class","row flex-left flex"),d(I,"class","button block primary"),d(I,"href","/protected_routes/account/update"),d(H,"class","row flex-right flex")},m(e,n){v(e,l,n),t(l,o),t(o,p),t(p,M),t(o,R),t(o,i),t(o,w),v(e,b,n),v(e,k,n),t(k,F),t(F,y),t(y,P),t(F,u),v(e,N,n),v(e,S,n),t(S,_),t(_,r),t(r,O),t(_,L),v(e,T,n),v(e,G,n),t(G,x),t(x,q),t(q,J),t(x,K),v(e,Q,n),v(e,C,n),t(C,V),t(V,z),t(z,X),t(V,U),v(e,W,n),v(e,H,n),t(H,I),t(I,Y)},p(e,n){n&1&&j(R,e[0]),n&2&&j(w,e[1]),n&4&&j(u,e[2]),n&8&&j(L,e[3]),n&32&&j(K,e[5]),n&16&&j(U,e[4])},d(e){e&&s(l),e&&s(b),e&&s(k),e&&s(N),e&&s(S),e&&s(T),e&&s(G),e&&s(Q),e&&s(C),e&&s(W),e&&s(H)}}}function Oe(c){let l,o,p,M,R,i,w,b,k,F,y,P,u;function N(r,O){return r[0]?ye:be}let S=N(c),_=S(c);return{c(){l=a("form"),o=a("h1"),p=E("My account"),M=A(),_.c(),R=A(),i=a("div"),w=a("form"),b=a("a"),k=E("Mes posts"),F=A(),y=a("form"),P=a("a"),u=E("Mes assos"),this.h()},l(r){l=f(r,"FORM",{class:!0});var O=m(l);o=f(O,"H1",{});var L=m(o);p=h(L,"My account"),L.forEach(s),O.forEach(s),M=D(r),_.l(r),R=D(r),i=f(r,"DIV",{class:!0});var T=m(i);w=f(T,"FORM",{class:!0});var G=m(w);b=f(G,"A",{class:!0,href:!0});var x=m(b);k=h(x,"Mes posts"),x.forEach(s),G.forEach(s),F=D(T),y=f(T,"FORM",{class:!0});var q=m(y);P=f(q,"A",{class:!0,href:!0});var J=m(P);u=h(J,"Mes assos"),J.forEach(s),q.forEach(s),T.forEach(s),this.h()},h(){d(l,"class","row flex-center flex"),d(b,"class","button block"),d(b,"href","/protected_routes/account/posts"),d(w,"class","row flex"),d(P,"class","button block"),d(P,"href","/protected_routes/account/assos"),d(y,"class","row flex"),d(i,"class","row flex-center flex footer")},m(r,O){v(r,l,O),t(l,o),t(o,p),v(r,M,O),_.m(r,O),v(r,R,O),v(r,i,O),t(i,w),t(w,b),t(b,k),t(i,F),t(i,y),t(y,P),t(P,u)},p(r,[O]){S===(S=N(r))&&_?_.p(r,O):(_.d(1),_=S(r),_&&(_.c(),_.m(R.parentNode,R)))},i:se,o:se,d(r){r&&s(l),r&&s(M),_.d(r),r&&s(R),r&&s(i)}}}function Re(c,l,o){let p;he(c,de,u=>o(7,p=u));let M=p.data.session.user,R=null,i=null,w=null,b=null,k=null,F=null,y=!1;ve(()=>{P()});const P=async()=>{try{y=!0;let{data:u,error:N}=await Me.from("users").select("first_name, last_name, pseudo, email, status, promo").eq("id",M.id).single();if(u&&(o(0,R=u.first_name),o(1,i=u.last_name),o(2,w=u.pseudo),o(3,b=u.email),o(4,k=u.status),o(5,F=u.promo)),N)throw N}catch(u){u instanceof Error&&alert(u.message)}finally{y=!1}};return[R,i,w,b,k,F]}class Pe extends _e{constructor(l){super(),ie(this,l,Re,Oe,Ee,{})}}export{Pe as default};
