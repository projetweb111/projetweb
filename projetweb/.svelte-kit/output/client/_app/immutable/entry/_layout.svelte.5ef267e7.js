import{S as L,i as V,s as q,k as $,r as k,l as A,m as E,u as S,h as c,p,b as v,D as g,E as F,n as D,F as N,a as w,c as I,q as T,d as M,f as U,g as C,G as x,H as z,I as G,J,o as R,w as j,z as K,A as P,B as Q,C as W}from"../chunks/index.0e58c74b.js";import{s as B}from"../chunks/supabaseClient.e8e52d2c.js";import{g as X,i as Y}from"../chunks/navigation.2cfe3a99.js";import{p as Z}from"../chunks/stores.2f18ef1e.js";function tt(f){let t,i,a,r,s,e;return{c(){t=$("form"),i=$("div"),a=$("button"),r=k("Sign Out"),this.h()},l(o){t=A(o,"FORM",{class:!0});var u=E(t);i=A(u,"DIV",{});var m=E(i);a=A(m,"BUTTON",{class:!0});var d=E(a);r=S(d,"Sign Out"),d.forEach(c),m.forEach(c),u.forEach(c),this.h()},h(){p(a,"class","button block"),a.disabled=f[0],p(t,"class","form-widget")},m(o,u){v(o,t,u),g(t,i),g(i,a),g(a,r),s||(e=F(a,"click",f[1]),s=!0)},p(o,[u]){u&1&&(a.disabled=o[0])},i:D,o:D,d(o){o&&c(t),s=!1,e()}}}function et(f,t,i){let a=!1;async function r(){try{i(0,a=!0);let{error:s}=await B.auth.signOut();if(s)throw s;X("/",{invalidateAll:!0})}catch(s){s instanceof Error&&alert(s.message)}finally{i(0,a=!1)}}return[a,r]}class st extends L{constructor(t){super(),V(this,t,et,tt,q,{})}}function at(f){let t,i,a,r,s,e,o,u,m,d,b;return d=new st({}),{c(){t=$("a"),i=k("Actualités"),a=w(),r=$("a"),s=k("Search"),e=w(),o=$("a"),u=k("My account"),m=w(),K(d.$$.fragment),this.h()},l(l){t=A(l,"A",{href:!0,class:!0});var h=E(t);i=S(h,"Actualités"),h.forEach(c),a=I(l),r=A(l,"A",{href:!0,class:!0});var _=E(r);s=S(_,"Search"),_.forEach(c),e=I(l),o=A(l,"A",{href:!0,class:!0});var n=E(o);u=S(n,"My account"),n.forEach(c),m=I(l),P(d.$$.fragment,l),this.h()},h(){p(t,"href","/protected_routes/actualite"),p(t,"class","svelte-8abco7"),p(r,"href","/protected_routes/search"),p(r,"class","svelte-8abco7"),p(o,"href","/protected_routes/account"),p(o,"class","svelte-8abco7")},m(l,h){v(l,t,h),g(t,i),v(l,a,h),v(l,r,h),g(r,s),v(l,e,h),v(l,o,h),g(o,u),v(l,m,h),Q(d,l,h),b=!0},i(l){b||(C(d.$$.fragment,l),b=!0)},o(l){M(d.$$.fragment,l),b=!1},d(l){l&&c(t),l&&c(a),l&&c(r),l&&c(e),l&&c(o),l&&c(m),W(d,l)}}}function lt(f){let t,i,a,r,s;return{c(){t=$("a"),i=k("Log in"),a=w(),r=$("a"),s=k("Sign up"),this.h()},l(e){t=A(e,"A",{href:!0,class:!0});var o=E(t);i=S(o,"Log in"),o.forEach(c),a=I(e),r=A(e,"A",{href:!0,class:!0});var u=E(r);s=S(u,"Sign up"),u.forEach(c),this.h()},h(){p(t,"href","/signIn"),p(t,"class","svelte-8abco7"),p(r,"href","/signUp"),p(r,"class","svelte-8abco7")},m(e,o){v(e,t,o),g(t,i),v(e,a,o),v(e,r,o),g(r,s)},i:D,o:D,d(e){e&&c(t),e&&c(a),e&&c(r)}}}function rt(f){let t,i,a,r,s,e,o,u,m;const d=[lt,at],b=[];function l(n,y){return n[0].data.session?1:0}s=l(f),e=b[s]=d[s](f);const h=f[2].default,_=N(h,f,f[1],null);return{c(){t=$("nav"),i=$("a"),a=k("🏠 Home"),r=w(),e.c(),o=w(),u=$("div"),_&&_.c(),this.h()},l(n){t=A(n,"NAV",{class:!0});var y=E(t);i=A(y,"A",{href:!0,class:!0});var O=E(i);a=S(O,"🏠 Home"),O.forEach(c),r=I(y),e.l(y),y.forEach(c),o=I(n),u=A(n,"DIV",{class:!0,style:!0});var H=E(u);_&&_.l(H),H.forEach(c),this.h()},h(){p(i,"href","/"),p(i,"class","svelte-8abco7"),p(t,"class","svelte-8abco7"),p(u,"class","container"),T(u,"padding","50px 0 100px 0")},m(n,y){v(n,t,y),g(t,i),g(i,a),g(t,r),b[s].m(t,null),v(n,o,y),v(n,u,y),_&&_.m(u,null),m=!0},p(n,[y]){let O=s;s=l(n),s!==O&&(j(),M(b[O],1,1,()=>{b[O]=null}),U(),e=b[s],e||(e=b[s]=d[s](n),e.c()),C(e,1),e.m(t,null)),_&&_.p&&(!m||y&2)&&x(_,h,n,n[1],m?G(h,n[1],y,null):z(n[1]),null)},i(n){m||(C(e),C(_,n),m=!0)},o(n){M(e),M(_,n),m=!1},d(n){n&&c(t),b[s].d(),n&&c(o),n&&c(u),_&&_.d(n)}}}function ot(f,t,i){let a;J(f,Z,e=>i(0,a=e));let{$$slots:r={},$$scope:s}=t;return R(()=>{const{data:{subscription:e}}=B.auth.onAuthStateChange(()=>{Y()});return()=>{e.unsubscribe()}}),f.$$set=e=>{"$$scope"in e&&i(1,s=e.$$scope)},[a,s,r]}class ft extends L{constructor(t){super(),V(this,t,ot,rt,q,{})}}export{ft as default};
