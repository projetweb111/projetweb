import{S as z,i as B,s as J,k as r,r as O,a as U,l as u,m as S,u as R,h as E,c as D,p as a,b as Q,D as t,K as b,E as V,L as W,n as j,M as X}from"../chunks/index.0e58c74b.js";import{g as Z}from"../chunks/navigation.2cfe3a99.js";import{s as $}from"../chunks/supabaseClient.e8e52d2c.js";function x(l){let o,e,c,_,w,p,I,F,g,i,N,n,P,f,h,k,m,G,T,y,Y,M,q;return{c(){o=r("form"),e=r("div"),c=r("h1"),_=O("Authentification - Sign up"),w=U(),p=r("p"),I=O("Give us your name and sign up with your email and password"),F=U(),g=r("div"),i=r("input"),N=U(),n=r("input"),P=U(),f=r("div"),h=r("input"),k=U(),m=r("input"),G=U(),T=r("div"),y=r("input"),this.h()},l(s){o=u(s,"FORM",{class:!0});var d=S(o);e=u(d,"DIV",{class:!0});var v=S(e);c=u(v,"H1",{class:!0});var C=S(c);_=R(C,"Authentification - Sign up"),C.forEach(E),w=D(v),p=u(v,"P",{class:!0});var H=S(p);I=R(H,"Give us your name and sign up with your email and password"),H.forEach(E),F=D(v),g=u(v,"DIV",{});var A=S(g);i=u(A,"INPUT",{class:!0,type:!0,placeholder:!0}),N=D(A),n=u(A,"INPUT",{class:!0,type:!0,placeholder:!0}),A.forEach(E),P=D(v),f=u(v,"DIV",{});var L=S(f);h=u(L,"INPUT",{class:!0,type:!0,placeholder:!0}),k=D(L),m=u(L,"INPUT",{class:!0,type:!0,placeholder:!0}),L.forEach(E),G=D(v),T=u(v,"DIV",{});var K=S(T);y=u(K,"INPUT",{type:!0,class:!0}),K.forEach(E),v.forEach(E),d.forEach(E),this.h()},h(){a(c,"class","header"),a(p,"class","description"),a(i,"class","inputField"),a(i,"type","text"),a(i,"placeholder","Your first name"),a(n,"class","inputField"),a(n,"type","text"),a(n,"placeholder","Your last name"),a(h,"class","inputField"),a(h,"type","email"),a(h,"placeholder","Your email"),a(m,"class","inputField"),a(m,"type","password"),a(m,"placeholder","Your password"),a(y,"type","submit"),a(y,"class","button block"),y.value=Y=l[0]?"Loading":"Sign up",y.disabled=l[0],a(e,"class","col-6 form-widget"),a(o,"class","row flex-center flex")},m(s,d){Q(s,o,d),t(o,e),t(e,c),t(c,_),t(e,w),t(e,p),t(p,I),t(e,F),t(e,g),t(g,i),b(i,l[3]),t(g,N),t(g,n),b(n,l[4]),t(e,P),t(e,f),t(f,h),b(h,l[1]),t(f,k),t(f,m),b(m,l[2]),t(e,G),t(e,T),t(T,y),M||(q=[V(i,"input",l[6]),V(n,"input",l[7]),V(h,"input",l[8]),V(m,"input",l[9]),V(o,"submit",W(l[5]))],M=!0)},p(s,[d]){d&8&&i.value!==s[3]&&b(i,s[3]),d&16&&n.value!==s[4]&&b(n,s[4]),d&2&&h.value!==s[1]&&b(h,s[1]),d&4&&m.value!==s[2]&&b(m,s[2]),d&1&&Y!==(Y=s[0]?"Loading":"Sign up")&&(y.value=Y),d&1&&(y.disabled=s[0])},i:j,o:j,d(s){s&&E(o),M=!1,X(q)}}}function ee(l,o,e){let c=!1,_,w,p,I;const F=async()=>{try{e(0,c=!0);const{data:P,error:f}=await $.auth.signUp({email:_,password:w,options:{data:{first_name:p,last_name:I,email:_}}});if(f)throw f;Z("/signIn",{invalidateAll:!0})}catch(P){P instanceof Error&&alert(P.message)}finally{e(0,c=!1)}};function g(){p=this.value,e(3,p)}function i(){I=this.value,e(4,I)}function N(){_=this.value,e(1,_)}function n(){w=this.value,e(2,w)}return[c,_,w,p,I,F,g,i,N,n]}class le extends z{constructor(o){super(),B(this,o,ee,x,J,{})}}export{le as default};
