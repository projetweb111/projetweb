import{S as R,i as F,s as J,k as u,r as g,a as D,e as w,l as m,m as d,u as y,h as n,c as M,p as I,b as E,D as f,n as A,J as L,o as O,P as T,v as V}from"../chunks/index.0e58c74b.js";import{p as U}from"../chunks/stores.2f18ef1e.js";import{s as Y}from"../chunks/supabaseClient.e8e52d2c.js";function q(h,e,a){const s=h.slice();return s[5]=e[a],s}function j(h){let e,a,s;return{c(){e=u("div"),a=u("h2"),s=g("Aucune asso"),this.h()},l(t){e=m(t,"DIV",{class:!0});var r=d(e);a=m(r,"H2",{});var o=d(a);s=y(o,"Aucune asso"),o.forEach(n),r.forEach(n),this.h()},h(){I(e,"class","row flex-center flex")},m(t,r){E(t,e,r),f(e,a),f(a,s)},p:A,d(t){t&&n(e)}}}function z(h){let e,a=h[0],s=[];for(let t=0;t<a.length;t+=1)s[t]=N(q(h,a,t));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=w()},l(t){for(let r=0;r<s.length;r+=1)s[r].l(t);e=w()},m(t,r){for(let o=0;o<s.length;o+=1)s[o].m(t,r);E(t,e,r)},p(t,r){if(r&1){a=t[0];let o;for(o=0;o<a.length;o+=1){const _=q(t,a,o);s[o]?s[o].p(_,r):(s[o]=N(_),s[o].c(),s[o].m(e.parentNode,e))}for(;o<s.length;o+=1)s[o].d(1);s.length=a.length}},d(t){T(s,t),t&&n(e)}}}function B(h){let e,a,s;return{c(){e=u("div"),a=u("h2"),s=g("Chargement..."),this.h()},l(t){e=m(t,"DIV",{class:!0});var r=d(e);a=m(r,"H2",{});var o=d(a);s=y(o,"Chargement..."),o.forEach(n),r.forEach(n),this.h()},h(){I(e,"class","row flex-center flex")},m(t,r){E(t,e,r),f(e,a),f(a,s)},p:A,d(t){t&&n(e)}}}function N(h){let e,a,s=h[5].association.name_association+"",t,r,o,_,i,l,c,v=h[5].association.description+"",k,H;return{c(){e=u("div"),a=u("h1"),t=g(s),r=D(),o=u("details"),_=u("summary"),i=g("Description"),l=D(),c=u("p"),k=g(v),H=D()},l(b){e=m(b,"DIV",{});var p=d(e);a=m(p,"H1",{});var S=d(a);t=y(S,s),S.forEach(n),r=M(p),o=m(p,"DETAILS",{});var x=d(o);_=m(x,"SUMMARY",{});var C=d(_);i=y(C,"Description"),C.forEach(n),l=M(x),c=m(x,"P",{});var P=d(c);k=y(P,v),P.forEach(n),x.forEach(n),H=M(p),p.forEach(n)},m(b,p){E(b,e,p),f(e,a),f(a,t),f(e,r),f(e,o),f(o,_),f(_,i),f(o,l),f(o,c),f(c,k),f(e,H)},p(b,p){p&1&&s!==(s=b[5].association.name_association+"")&&V(t,s),p&1&&v!==(v=b[5].association.description+"")&&V(k,v)},d(b){b&&n(e)}}}function G(h){let e,a,s,t,r;function o(l,c){return l[1]?B:l[0]?z:j}let _=o(h),i=_(h);return{c(){e=u("form"),a=u("h1"),s=g("Mes assos"),t=D(),i.c(),r=w(),this.h()},l(l){e=m(l,"FORM",{class:!0});var c=d(e);a=m(c,"H1",{});var v=d(a);s=y(v,"Mes assos"),v.forEach(n),c.forEach(n),t=M(l),i.l(l),r=w(),this.h()},h(){I(e,"class","row flex-center flex")},m(l,c){E(l,e,c),f(e,a),f(a,s),E(l,t,c),i.m(l,c),E(l,r,c)},p(l,[c]){_===(_=o(l))&&i?i.p(l,c):(i.d(1),i=_(l),i&&(i.c(),i.m(r.parentNode,r)))},i:A,o:A,d(l){l&&n(e),l&&n(t),i.d(l),l&&n(r)}}}function K(h,e,a){let s;L(h,U,i=>a(2,s=i));let t=s.data.session.user,r=null,o=!1;O(()=>{_()});const _=async()=>{try{a(1,o=!0);let{data:i,error:l}=await Y.from("members").select("*,association(*)").eq("id_user",t.id);if(console.log(i),i&&a(0,r=i),l)throw l}catch(i){i instanceof Error&&alert(i.message)}finally{a(1,o=!1)}};return[r,o]}class Z extends R{constructor(e){super(),F(this,e,K,G,J,{})}}export{Z as default};
