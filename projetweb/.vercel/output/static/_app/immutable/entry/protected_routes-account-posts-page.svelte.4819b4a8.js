import{S as T,i as U,s as Y,k as p,r as b,a as w,e as H,l as d,m,u as g,h as i,c as x,p as q,b as k,D as c,n as A,J as j,o as z,L as B,v as V}from"../chunks/index.ce7212fb.js";import{p as G}from"../chunks/stores.b4be55e9.js";import{s as K}from"../chunks/supabaseClient.e8e52d2c.js";function J(h,e,l){const s=h.slice();return s[5]=e[l],s}function Q(h){let e,l,s;return{c(){e=p("div"),l=p("h2"),s=b("Aucun post"),this.h()},l(t){e=d(t,"DIV",{class:!0});var o=m(e);l=d(o,"H2",{});var a=m(l);s=g(a,"Aucun post"),a.forEach(i),o.forEach(i),this.h()},h(){q(e,"class","row flex-center flex")},m(t,o){k(t,e,o),c(e,l),c(l,s)},p:A,d(t){t&&i(e)}}}function W(h){let e,l=h[0],s=[];for(let t=0;t<l.length;t+=1)s[t]=O(J(h,l,t));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=H()},l(t){for(let o=0;o<s.length;o+=1)s[o].l(t);e=H()},m(t,o){for(let a=0;a<s.length;a+=1)s[a].m(t,o);k(t,e,o)},p(t,o){if(o&1){l=t[0];let a;for(a=0;a<l.length;a+=1){const _=J(t,l,a);s[a]?s[a].p(_,o):(s[a]=O(_),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}},d(t){B(s,t),t&&i(e)}}}function X(h){let e,l,s;return{c(){e=p("div"),l=p("h2"),s=b("Chargement..."),this.h()},l(t){e=d(t,"DIV",{class:!0});var o=m(e);l=d(o,"H2",{});var a=m(l);s=g(a,"Chargement..."),a.forEach(i),o.forEach(i),this.h()},h(){q(e,"class","row flex-center flex")},m(t,o){k(t,e,o),c(e,l),c(l,s)},p:A,d(t){t&&i(e)}}}function O(h){let e,l,s=h[5].title+"",t,o,a,_=h[5].association+"",n,r,f,E,I,S,y,M=h[5].content+"",C,P;return{c(){e=p("div"),l=p("h1"),t=b(s),o=w(),a=p("h2"),n=b(_),r=w(),f=p("details"),E=p("summary"),I=b("Content"),S=w(),y=p("p"),C=b(M),P=w()},l(v){e=d(v,"DIV",{});var u=m(e);l=d(u,"H1",{});var L=m(l);t=g(L,s),L.forEach(i),o=x(u),a=d(u,"H2",{});var N=m(a);n=g(N,_),N.forEach(i),r=x(u),f=d(u,"DETAILS",{});var D=m(f);E=d(D,"SUMMARY",{});var R=m(E);I=g(R,"Content"),R.forEach(i),S=x(D),y=d(D,"P",{});var F=m(y);C=g(F,M),F.forEach(i),D.forEach(i),P=x(u),u.forEach(i)},m(v,u){k(v,e,u),c(e,l),c(l,t),c(e,o),c(e,a),c(a,n),c(e,r),c(e,f),c(f,E),c(E,I),c(f,S),c(f,y),c(y,C),c(e,P)},p(v,u){u&1&&s!==(s=v[5].title+"")&&V(t,s),u&1&&_!==(_=v[5].association+"")&&V(n,_),u&1&&M!==(M=v[5].content+"")&&V(C,M)},d(v){v&&i(e)}}}function Z(h){let e,l,s,t,o;function a(r,f){return r[1]?X:r[0]?W:Q}let _=a(h),n=_(h);return{c(){e=p("form"),l=p("h1"),s=b("Mes posts"),t=w(),n.c(),o=H(),this.h()},l(r){e=d(r,"FORM",{class:!0});var f=m(e);l=d(f,"H1",{});var E=m(l);s=g(E,"Mes posts"),E.forEach(i),f.forEach(i),t=x(r),n.l(r),o=H(),this.h()},h(){q(e,"class","row flex-center flex")},m(r,f){k(r,e,f),c(e,l),c(l,s),k(r,t,f),n.m(r,f),k(r,o,f)},p(r,[f]){_===(_=a(r))&&n?n.p(r,f):(n.d(1),n=_(r),n&&(n.c(),n.m(o.parentNode,o)))},i:A,o:A,d(r){r&&i(e),r&&i(t),n.d(r),r&&i(o)}}}function $(h,e,l){let s;j(h,G,n=>l(2,s=n));let t=s.data.session.user,o=null,a=!1;z(()=>{_()});const _=async()=>{try{l(1,a=!0);let{data:n,error:r}=await K.from("post").select("*").eq("id_author",t.id);if(console.log(n),n&&l(0,o=n),r)throw r}catch(n){n instanceof Error&&alert(n.message)}finally{l(1,a=!1)}};return[o,a]}class le extends T{constructor(e){super(),U(this,e,$,Z,Y,{})}}export{le as default};
